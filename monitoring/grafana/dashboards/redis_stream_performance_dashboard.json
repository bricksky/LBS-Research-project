{
  "uid": "redis-stream-performance-minimal",
  "title": "Redis Stream ì„±ëŠ¥ ëŒ€ì‹œë³´ë“œ (ìµœì†Œ í•µì‹¬/ë¹„êµìš©)",
  "timezone": "browser",
  "schemaVersion": 37,
  "version": 2,
  "refresh": "5s",
  "tags": ["redis", "stream", "performance", "minimal", "compare"],
  "time": { "from": "now-15m", "to": "now" },
  "graphTooltip": 1,
  "editable": true,
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": { "type": "grafana", "uid": "-- Grafana --" },
        "enable": true,
        "hide": true,
        "name": "ì£¼ì„ ë° ì•Œë¦¼",
        "type": "dashboard"
      }
    ]
  },
  "templating": {
    "list": [
      {
        "type": "datasource",
        "name": "datasource",
        "label": "ë°ì´í„° ì†ŒìŠ¤",
        "query": "prometheus",
        "refresh": 1,
        "hide": 0
      },
      {
        "type": "query",
        "name": "application",
        "label": "ì• í”Œë¦¬ì¼€ì´ì…˜",
        "datasource": { "type": "prometheus", "uid": "${datasource}" },
        "refresh": 1,
        "definition": "label_values(http_server_requests_seconds_count, application)",
        "query": { "query": "label_values(http_server_requests_seconds_count, application)" },
        "current": {
          "selected": true,
          "text": "itrc-api-redis-stream",
          "value": "itrc-api-redis-stream"
        },
        "hide": 0
      },
      {
        "type": "textbox",
        "name": "write_uri_regex",
        "label": "ì“°ê¸° URI ì •ê·œì‹",
        "query": ".*/api/v1/redis/update.*",
        "current": { "text": ".*/api/v1/redis/update.*", "value": ".*/api/v1/redis/update.*" },
        "hide": 0
      },
      {
        "type": "textbox",
        "name": "read_uri_regex",
        "label": "ì½ê¸° URI ì •ê·œì‹",
        "query": ".*/api/v1/redis/search/.*",
        "current": { "text": ".*/api/v1/redis/search/.*", "value": ".*/api/v1/redis/search/.*" },
        "hide": 0
      },
      {
        "type": "textbox",
        "name": "dep_uri_regex",
        "label": "ì˜ì¡´ì„± URI ì •ê·œì‹(í´ë¼ì´ì–¸íŠ¸)",
        "query": ".*(redis).*",
        "current": { "text": ".*(redis).*", "value": ".*(redis).*" },
        "hide": 0
      }
    ]
  },
  "panels": [
    {
      "id": 1,
      "type": "row",
      "title": "ğŸ“Œ ê°œìš” (í•µì‹¬ KPI) â€” ì²˜ë¦¬ëŸ‰/ì§€ì—°/ì‹ ì„ ë„ ìƒíƒœ",
      "description": "ì²˜ë¦¬ëŸ‰(RPS)=ì´ˆë‹¹ ì²˜ë¦¬ ìš”ì²­ ìˆ˜, ì§€ì—°(P95/P99)=ìš”ì²­ ì‘ë‹µì‹œê°„ì˜ ë°±ë¶„ìœ„ìˆ˜. P95ëŠ” '95% ìš”ì²­ì´ ì´ ê°’ ì´í•˜', P99ëŠ” '99% ìš”ì²­ì´ ì´ ê°’ ì´í•˜(ê¼¬ë¦¬ ì§€ì—°)'ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤. ì‹ ì„ ë„ëŠ” Eventâ†’ì €ì¥ ë°˜ì˜ ì§€ì—° ì§€í‘œë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.",
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 }
    },
    {
      "id": 2,
      "type": "stat",
      "title": "ì „ì²´ ì²˜ë¦¬ëŸ‰ (RPS)",
      "description": "ì“°ê¸°+ì½ê¸° í•©ì‚° ì²˜ë¦¬ëŸ‰. ì„œë¹„ìŠ¤ê°€ í˜„ì¬ ì–¼ë§ˆë‚˜ ë°”ì˜ê²Œ ìš”ì²­ì„ ì²˜ë¦¬í•˜ëŠ”ì§€(ì´ˆë‹¹ ìš”ì²­ ìˆ˜)ë¥¼ ë´…ë‹ˆë‹¤.",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 4, "w": 6, "x": 0, "y": 1 },
      "targets": [
        {
          "refId": "A",
          "expr": "sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$write_uri_regex\"}[$__rate_interval])) + sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$read_uri_regex\"}[$__rate_interval]))",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "reqps",
          "color": { "mode": "thresholds" },
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 200 },
              { "color": "red", "value": 500 }
            ]
          }
        },
        "overrides": []
      },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"], "values": false },
        "orientation": "horizontal",
        "colorMode": "value",
        "graphMode": "area",
        "textMode": "auto"
      }
    },
    {
      "id": 3,
      "type": "stat",
      "title": "ì“°ê¸° ì§€ì—° (P95 / P99, ìµœê·¼, ì´ˆ)",
      "description": "ì“°ê¸° API ì‘ë‹µì‹œê°„ì˜ ë°±ë¶„ìœ„ìˆ˜. P95=95% ì´í•˜, P99=ê¼¬ë¦¬ ì§€ì—°(99% ì´í•˜).",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 4, "w": 6, "x": 6, "y": 1 },
      "targets": [
        {
          "refId": "A",
          "expr": "histogram_quantile(0.95, sum by (le) (rate(http_server_requests_seconds_bucket{application=\"$application\", uri=~\"$write_uri_regex\"}[$__rate_interval])))",
          "legendFormat": "P95",
          "editorMode": "code",
          "range": true,
          "instant": false
        },
        {
          "refId": "B",
          "expr": "histogram_quantile(0.99, sum by (le) (rate(http_server_requests_seconds_bucket{application=\"$application\", uri=~\"$write_uri_regex\"}[$__rate_interval])))",
          "legendFormat": "P99",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": { "unit": "s", "color": { "mode": "fixed", "fixedColor": "#5794F2" } },
        "overrides": [
          { "matcher": { "id": "byName", "options": "P95" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#5794F2" } }] },
          { "matcher": { "id": "byName", "options": "P99" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#B877D9" } }] }
        ]
      },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"], "values": false },
        "orientation": "horizontal",
        "colorMode": "value",
        "graphMode": "none",
        "textMode": "value_and_name"
      }
    },
    {
      "id": 4,
      "type": "stat",
      "title": "ì½ê¸° ì§€ì—° (P95 / P99, ìµœê·¼, ì´ˆ)",
      "description": "ì½ê¸° API ì‘ë‹µì‹œê°„ì˜ ë°±ë¶„ìœ„ìˆ˜. P95=95% ì´í•˜, P99=ê¼¬ë¦¬ ì§€ì—°(99% ì´í•˜).",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 4, "w": 6, "x": 12, "y": 1 },
      "targets": [
        {
          "refId": "A",
          "expr": "histogram_quantile(0.95, sum by (le) (rate(http_server_requests_seconds_bucket{application=\"$application\", uri=~\"$read_uri_regex\"}[$__rate_interval])))",
          "legendFormat": "P95",
          "editorMode": "code",
          "range": true,
          "instant": false
        },
        {
          "refId": "B",
          "expr": "histogram_quantile(0.99, sum by (le) (rate(http_server_requests_seconds_bucket{application=\"$application\", uri=~\"$read_uri_regex\"}[$__rate_interval])))",
          "legendFormat": "P99",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": { "unit": "s", "color": { "mode": "fixed", "fixedColor": "#5794F2" } },
        "overrides": [
          { "matcher": { "id": "byName", "options": "P95" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#5794F2" } }] },
          { "matcher": { "id": "byName", "options": "P99" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#B877D9" } }] }
        ]
      },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"], "values": false },
        "orientation": "horizontal",
        "colorMode": "value",
        "graphMode": "none",
        "textMode": "value_and_name"
      }
    },
    {
      "id": 5,
      "type": "stat",
      "title": "ë°ì´í„° ì‹ ì„ ë„ ì§€ì—° (P95 / P99, ìµœê·¼, ì´ˆ)",
      "description": "ë°ì´í„° ì‹ ì„ ë„(End-to-End Lag)=ìš”ì²­ì— í¬í•¨ëœ timestamp(ë°ì´í„° ìƒì„± ì‹œì )ë¶€í„° ì €ì¥ ì™„ë£Œê¹Œì§€ ê±¸ë¦° ì‹œê°„. P95=95% ì´í•˜, P99=ê¼¬ë¦¬ ì§€ì—°(99% ì´í•˜).",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 4, "w": 6, "x": 18, "y": 1 },
      "targets": [
        {
          "refId": "A",
          "expr": "histogram_quantile(0.95, sum by (le) (rate(location_event_freshness_seconds_bucket{application=\"$application\"}[$__rate_interval])))",
          "legendFormat": "P95",
          "editorMode": "code",
          "range": true,
          "instant": false
        },
        {
          "refId": "B",
          "expr": "histogram_quantile(0.99, sum by (le) (rate(location_event_freshness_seconds_bucket{application=\"$application\"}[$__rate_interval])))",
          "legendFormat": "P99",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": { "unit": "s", "color": { "mode": "fixed", "fixedColor": "#5794F2" } },
        "overrides": [
          { "matcher": { "id": "byName", "options": "P95" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#5794F2" } }] },
          { "matcher": { "id": "byName", "options": "P99" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#B877D9" } }] }
        ]
      },
      "options": {
        "reduceOptions": { "calcs": ["lastNotNull"], "values": false },
        "orientation": "horizontal",
        "colorMode": "value",
        "graphMode": "none",
        "textMode": "value_and_name"
      }
    },
    {
      "id": 6,
      "type": "row",
      "title": "ğŸ§© ì„¹ì…˜ 0. ì‹œìŠ¤í…œ/ì˜ì¡´ì„± (ì¶”ê°€ 1ì¤„) â€” CPUÂ·ì˜¤ë¥˜ìœ¨",
      "description": "ì§€ì—°ì´ íŠˆ ë•Œ ì›ì¸ í›„ë³´ë¥¼ ë¹ ë¥´ê²Œ ì¢íˆê¸° ìœ„í•œ ìµœì†Œ ì§€í‘œì…ë‹ˆë‹¤. CPU ì‚¬ìš©ë¥ ì´ ë†’ìœ¼ë©´ ì „ë°˜ ì§€ì—°ì´ ìƒìŠ¹í•  ìˆ˜ ìˆê³ , ì˜¤ë¥˜ìœ¨(5xx)ì´ í•¨ê»˜ ì˜¤ë¥´ë©´ í¬í™”/ì¥ì•  ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.",
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 5 }
    },
    {
      "id": 7,
      "type": "gauge",
      "title": "CPU ì‚¬ìš©ë¥ (í”„ë¡œì„¸ìŠ¤/ì‹œìŠ¤í…œ, %)",
      "description": "process_cpu_usageê°€ ì—†ìœ¼ë©´ system_cpu_usageë¡œ ëŒ€ì²´í•˜ì—¬ í‘œì‹œí•©ë‹ˆë‹¤. ê²Œì´ì§€ëŠ” 'í˜„ì¬(ë§ˆì§€ë§‰) ê°’'ì„ í‘œì‹œí•©ë‹ˆë‹¤.",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 6, "w": 12, "x": 0, "y": 6 },
      "targets": [
        {
          "refId": "A",
          "expr": "max((avg(process_cpu_usage{application=\"$application\"}) * 100) or (avg(system_cpu_usage{application=\"$application\"}) * 100))",
          "legendFormat": "CPU(%)",
          "editorMode": "code",
          "range": false,
          "instant": true
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 100,
          "color": { "mode": "thresholds" },
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 70 },
              { "color": "red", "value": 85 }
            ]
          }
        },
        "overrides": []
      },
      "options": {
        "reduceOptions": { "values": false, "calcs": ["lastNotNull"], "fields": "" },
        "showThresholdLabels": false,
        "showThresholdMarkers": true,
        "orientation": "auto"
      }
    },
    {
      "id": 8,
      "type": "timeseries",
      "title": "ì˜¤ë¥˜ìœ¨ (ì„œë²„ ì˜¤ë¥˜, ì“°ê¸°/ì½ê¸°, %)",
      "description": "status(5xx) ë˜ëŠ” outcome(SERVER_ERROR) ê¸°ë°˜ ì˜¤ë¥˜ìœ¨. ë§¤ì¹­ë˜ëŠ” ì‹œê³„ì—´ì´ ì—†ì–´ë„ 0%ë¡œ í‘œì‹œë˜ë„ë¡ vector(0) ë³´ì • í¬í•¨.",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 6, "w": 12, "x": 12, "y": 6 },
      "targets": [
        {
          "refId": "A",
          "expr": "(\n  100 * (\n    max(\n      ( (sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$write_uri_regex\", status=~\"5..\"}[$__rate_interval])) ) or vector(0) )\n      OR\n      ( (sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$write_uri_regex\", outcome=\"SERVER_ERROR\"}[$__rate_interval])) ) or vector(0) )\n    )\n    /\n    clamp_min( (sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$write_uri_regex\"}[$__rate_interval])) ) or vector(0), 0.0001)\n  )\n) or vector(0)",
          "legendFormat": "ì“°ê¸° ì˜¤ë¥˜(%)",
          "editorMode": "code",
          "range": true,
          "instant": false
        },
        {
          "refId": "B",
          "expr": "(\n  100 * (\n    max(\n      ( (sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$read_uri_regex\", status=~\"5..\"}[$__rate_interval])) ) or vector(0) )\n      OR\n      ( (sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$read_uri_regex\", outcome=\"SERVER_ERROR\"}[$__rate_interval])) ) or vector(0) )\n    )\n    /\n    clamp_min( (sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$read_uri_regex\"}[$__rate_interval])) ) or vector(0), 0.0001)\n  )\n) or vector(0)",
          "legendFormat": "ì½ê¸° ì˜¤ë¥˜(%)",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "percent",
          "min": 0,
          "max": 5,
          "color": { "mode": "thresholds" },
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 1 },
              { "color": "red", "value": 5 }
            ]
          },
          "custom": { "drawStyle": "line", "lineWidth": 2, "showPoints": "auto", "spanNulls": true }
        },
        "overrides": []
      },
      "options": {
        "legend": { "showLegend": true, "placement": "bottom", "displayMode": "list" },
        "tooltip": { "mode": "single" }
      }
    },
    {
      "id": 10,
      "type": "row",
      "title": "âœï¸ ì„¹ì…˜ 1. ì“°ê¸° ì„±ëŠ¥ â€” ì²˜ë¦¬ëŸ‰Â·ì§€ì—°(ì“°ê¸°)",
      "description": "ì“°ê¸° ì²˜ë¦¬ëŸ‰(RPS)ê³¼ ì“°ê¸° ì§€ì—°(P95/P99)ì„ ë´…ë‹ˆë‹¤. ì²˜ë¦¬ëŸ‰â†‘ + ì§€ì—°â†‘ì´ë©´ í¬í™”/ë³‘ëª© ê°€ëŠ¥ì„±ì´ ë†’ìŠµë‹ˆë‹¤.",
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 12 }
    },
    {
      "id": 11,
      "type": "timeseries",
      "title": "ì“°ê¸° ì²˜ë¦¬ëŸ‰ (Write RPS)",
      "description": "ì“°ê¸° ìš”ì²­ ì²˜ë¦¬ëŸ‰(ì´ˆë‹¹ ìš”ì²­ ìˆ˜). ìŠ¤íŒŒì´í¬ê°€ ì§€ì—°ê³¼ ê°™ì´ ì¦ê°€í•˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 13 },
      "targets": [
        {
          "refId": "A",
          "expr": "sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$write_uri_regex\"}[$__rate_interval]))",
          "legendFormat": "ì“°ê¸° RPS",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "reqps",
          "min": 0,
          "max": 1000,
          "custom": { "drawStyle": "bars", "fillOpacity": 60, "showPoints": "never", "spanNulls": true }
        },
        "overrides": []
      },
      "options": {
        "legend": { "showLegend": true, "placement": "bottom", "displayMode": "list" },
        "tooltip": { "mode": "single" }
      }
    },
    {
      "id": 12,
      "type": "timeseries",
      "title": "ì“°ê¸° ì§€ì—° (P95 / P99, ì´ˆ)",
      "description": "ì“°ê¸° ì‘ë‹µì‹œê°„ì˜ P95/P99. P99ê°€ ê°‘ìê¸° ì¹˜ì†Ÿìœ¼ë©´ ì¼ë¶€ ìš”ì²­ì—ì„œ ë³‘ëª©/ë½/íì‰ì´ ë°œìƒí–ˆì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 13 },
      "targets": [
        {
          "refId": "A",
          "expr": "histogram_quantile(0.95, sum by (le) (rate(http_server_requests_seconds_bucket{application=\"$application\", uri=~\"$write_uri_regex\"}[$__rate_interval])))",
          "legendFormat": "P95",
          "editorMode": "code",
          "range": true,
          "instant": false
        },
        {
          "refId": "B",
          "expr": "histogram_quantile(0.99, sum by (le) (rate(http_server_requests_seconds_bucket{application=\"$application\", uri=~\"$write_uri_regex\"}[$__rate_interval])))",
          "legendFormat": "P99",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "s",
          "min": 0,
          "max": 5,
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "showPoints": "never", "spanNulls": true }
        },
        "overrides": [
          { "matcher": { "id": "byName", "options": "P95" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#5794F2" } }] },
          { "matcher": { "id": "byName", "options": "P99" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#B877D9" } }] }
        ]
      },
      "options": {
        "legend": { "showLegend": true, "placement": "bottom", "displayMode": "list" },
        "tooltip": { "mode": "single" }
      }
    },
    {
      "id": 20,
      "type": "row",
      "title": "ğŸ” ì„¹ì…˜ 2. ì½ê¸° ì„±ëŠ¥ â€” ì²˜ë¦¬ëŸ‰Â·ì§€ì—°(ì½ê¸°)",
      "description": "ì½ê¸° ì²˜ë¦¬ëŸ‰(RPS)ê³¼ ì½ê¸° ì§€ì—°(P95/P99)ì„ ë´…ë‹ˆë‹¤. ìºì‹œ ë¯¸ìŠ¤/ìŠ¤íŠ¸ë¦¼ ì†Œë¹„ ì§€ì—° ë“±ìœ¼ë¡œ ì½ê¸° ì§€ì—°ì´ ëŠ˜ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 21 }
    },
    {
      "id": 21,
      "type": "timeseries",
      "title": "ì½ê¸° ì²˜ë¦¬ëŸ‰ (Read RPS)",
      "description": "ì½ê¸° ìš”ì²­ ì²˜ë¦¬ëŸ‰(ì´ˆë‹¹ ìš”ì²­ ìˆ˜). ì“°ê¸° ëŒ€ë¹„ ì½ê¸° ë¹„ìœ¨ê³¼ í•¨ê»˜ ë³´ë©´ íŒ¨í„´ì„ íŒŒì•…í•˜ê¸° ì‰½ìŠµë‹ˆë‹¤.",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 22 },
      "targets": [
        {
          "refId": "A",
          "expr": "sum(rate(http_server_requests_seconds_count{application=\"$application\", uri=~\"$read_uri_regex\"}[$__rate_interval]))",
          "legendFormat": "ì½ê¸° RPS",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "reqps",
          "min": 0,
          "max": 1000,
          "custom": { "drawStyle": "bars", "fillOpacity": 60, "showPoints": "never", "spanNulls": true }
        },
        "overrides": []
      },
      "options": {
        "legend": { "showLegend": true, "placement": "bottom", "displayMode": "list" },
        "tooltip": { "mode": "single" }
      }
    },
    {
      "id": 22,
      "type": "timeseries",
      "title": "ì½ê¸° ì§€ì—° (P95 / P99, ì´ˆ)",
      "description": "ì½ê¸° ì‘ë‹µì‹œê°„ì˜ P95/P99. P99 ìƒìŠ¹ì€ íŠ¹ì • í‚¤/ì‘ì—…ì—ì„œ ë³‘ëª©ì´ ìƒê²¼ì„ ê°€ëŠ¥ì„±ì´ í½ë‹ˆë‹¤.",
      "datasource": { "type": "prometheus", "uid": "${datasource}" },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 22 },
      "targets": [
        {
          "refId": "A",
          "expr": "histogram_quantile(0.95, sum by (le) (rate(http_server_requests_seconds_bucket{application=\"$application\", uri=~\"$read_uri_regex\"}[$__rate_interval])))",
          "legendFormat": "P95",
          "editorMode": "code",
          "range": true,
          "instant": false
        },
        {
          "refId": "B",
          "expr": "histogram_quantile(0.99, sum by (le) (rate(http_server_requests_seconds_bucket{application=\"$application\", uri=~\"$read_uri_regex\"}[$__rate_interval])))",
          "legendFormat": "P99",
          "editorMode": "code",
          "range": true,
          "instant": false
        }
      ],
      "fieldConfig": {
        "defaults": {
          "unit": "s",
          "min": 0,
          "max": 5,
          "color": { "mode": "palette-classic" },
          "custom": { "drawStyle": "line", "showPoints": "never", "spanNulls": true }
        },
        "overrides": [
          { "matcher": { "id": "byName", "options": "P95" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#5794F2" } }] },
          { "matcher": { "id": "byName", "options": "P99" }, "properties": [{ "id": "color", "value": { "mode": "fixed", "fixedColor": "#B877D9" } }] }
        ]
      },
      "options": {
        "legend": { "showLegend": true, "placement": "bottom", "displayMode": "list" },
        "tooltip": { "mode": "single" }
      }
    }
  ]
}